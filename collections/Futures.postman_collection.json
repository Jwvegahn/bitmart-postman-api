{
	"info": {
		"_postman_id": "34466964-18eb-4dc1-8fb7-8fb0fe63b65a",
		"name": "Futures",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "5953148"
	},
	"item": [
		{
			"name": "Futures Market Data",
			"item": [
				{
					"name": "Get Contract Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/contract/public/details?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"public",
								"details"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Market Depth",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/contract/public/depth?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"public",
								"depth"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Futures Openinterest",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/contract/public/open-interest?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"public",
								"open-interest"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Current Funding Rate",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/contract/public/funding-rate?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"public",
								"funding-rate"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get K-line",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/contract/public/kline?symbol=BTCUSDT&step=1&start_time=1684737708&end_time=1684739708",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"public",
								"kline"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								},
								{
									"key": "step",
									"value": "1",
									"description": "K-Line step, default is 1 minute. step: 1, 3, 5, 15, 30, 60, 120, 240, 360, 720, 1440, 4320, 10080\n"
								},
								{
									"key": "start_time",
									"value": "1684737708",
									"description": "Start time. Timestamps need to be in seconds"
								},
								{
									"key": "end_time",
									"value": "1684739708",
									"description": "End time. Timestamps need to be in seconds"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Futures Account Data",
			"item": [
				{
					"name": "Get Contract Assets (KEYED)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/contract/private/assets-detail",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"assets-detail"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Futures Trading",
			"item": [
				{
					"name": "Get Order Detail (KEYED)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/contract/private/order?symbol=BTCUSDT&order_id=22060966632123123",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"order"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								},
								{
									"key": "order_id",
									"value": "22060966632123123",
									"description": "Order ID"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Order History (KEYED)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/contract/private/order-history?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"order-history"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								},
								{
									"key": "start_time",
									"value": "1662368173",
									"description": "Start time, default is the last 7 days",
									"disabled": true
								},
								{
									"key": "end_time",
									"value": "1662368179",
									"description": "End time, default is the last 7 days",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Current Position (KEYED)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/contract/private/position?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"position"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Order Trade (KEYED)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/contract/private/trades?symbol=BTCUSDT",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"trades"
							],
							"query": [
								{
									"key": "symbol",
									"value": "BTCUSDT",
									"description": "Symbol of the contract(like BTCUSDT)"
								},
								{
									"key": "start_time",
									"value": "1662368173",
									"description": "Start time, default is the last 7 days",
									"disabled": true
								},
								{
									"key": "end_time",
									"value": "1662368179",
									"description": "End time, default is the last 7 days",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Submit Order (SIGNED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							},
							{
								"key": "X-BM-SIGN",
								"value": "{{x-bm-sign}}",
								"type": "text"
							},
							{
								"key": "X-BM-TIMESTAMP",
								"value": "{{x-bm-timestamp}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"symbol\":\"BTCUSDT\",\n  \"side\":4,\n  \"mode\":1,\n  \"type\":\"limit\",\n  \"leverage\":\"1\",\n  \"open_type\":\"isolated\",\n  \"size\":10,\n  \"price\":\"2000000\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/contract/private/submit-order",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"submit-order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cancel Order (SIGNED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							},
							{
								"key": "X-BM-SIGN",
								"value": "{{x-bm-sign}}",
								"type": "text"
							},
							{
								"key": "X-BM-TIMESTAMP",
								"value": "{{x-bm-timestamp}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"symbol\":\"ETHUSDT\",\n  \"order_id\": \"220906179559421\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/contract/private/cancel-order",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"cancel-order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cancel All Orders (SIGNED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							},
							{
								"key": "X-BM-SIGN",
								"value": "{{x-bm-sign}}",
								"type": "text"
							},
							{
								"key": "X-BM-TIMESTAMP",
								"value": "{{x-bm-timestamp}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"symbol\":\"ETHUSDT\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/contract/private/cancel-orders",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"cancel-orders"
							]
						}
					},
					"response": []
				},
				{
					"name": "Submit Plan Order (SIGNED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							},
							{
								"key": "X-BM-SIGN",
								"value": "{{x-bm-sign}}",
								"type": "text"
							},
							{
								"key": "X-BM-TIMESTAMP",
								"value": "{{x-bm-timestamp}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"symbol\":\"BTCUSDT\",\n  \"side\":1,\n  \"mode\":1,\n  \"type\":\"limit\",\n  \"leverage\":\"1\",\n  \"open_type\":\"isolated\",\n  \"size\":10,\n  \"trigger_price\":\"20000\",\n  \"executive_price\":\"14500\",\n  \"price_type\":1,\n  \"price_way\":1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/contract/private/submit-plan-order",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"submit-plan-order"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cancel Plan Order (SIGNED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-BM-KEY",
								"value": "{{bitmart-access-key}}",
								"type": "text"
							},
							{
								"key": "X-BM-SIGN",
								"value": "{{x-bm-sign}}",
								"type": "text"
							},
							{
								"key": "X-BM-TIMESTAMP",
								"value": "{{x-bm-timestamp}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"symbol\":\"ETHUSDT\",\n  \"order_id\": \"220906179559421\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/contract/private/cancel-plan-order",
							"host": [
								"{{host}}"
							],
							"path": [
								"contract",
								"private",
								"cancel-plan-order"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"",
					"const headers = pm.request.headers;",
					"const needSign = headers.get('x-bm-sign');",
					"",
					"if (needSign) {",
					"    const bitmart_api_secret = pm.environment.get(\"bitmart-secret-key\");",
					"    const bitmart_memo = pm.environment.get(\"bitmart-memo\");",
					"    const body = pm.request.body.raw;",
					"",
					"    const ts  = Date.now();",
					"    pm.environment.set(\"x-bm-timestamp\", ts);",
					"    console.log('-------------------------------------------------------------------------------------');",
					"    const queryString = ts + '#' + bitmart_memo + '#' + body;",
					"    console.log('queryString:' + queryString);",
					"    const signature = CryptoJS.HmacSHA256(queryString, bitmart_api_secret).toString(CryptoJS.enc.Hex);",
					"    console.log('x-bm-sign:' + signature);",
					"    ",
					"    pm.environment.set(\"x-bm-sign\", signature);",
					"}",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}